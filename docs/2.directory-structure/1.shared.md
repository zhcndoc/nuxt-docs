---
title: 'shared'
head.title: 'shared/'
description: '使用 shared/ 目录在 Vue 应用和 Nitro 服务器之间共享功能。'
navigation.icon: i-vscode-icons-folder-type-shared
---

The `shared/` directory allows you to share code that can be used in both the Vue app and the Nitro server.

::note
The `shared/` directory is available in Nuxt v3.14+.
::

::important
Code in the `shared/` directory cannot import any Vue or Nitro code.
::

:video-accordion{title="观看 Vue School 关于在应用和服务器之间共享 utils 和 types 的视频" videoId="nnAR-MO3q5M"}

## 用法

**方法 1：** 命名导出

```ts twoslash [shared/utils/capitalize.ts]
export const capitalize = (input: string) => {
  return input[0] ? input[0].toUpperCase() + input.slice(1) : ''
}
```

**方法 2：** 默认导出

```ts twoslash [shared/utils/capitalize.ts]
export default function (input: string) {
  return input[0] ? input[0].toUpperCase() + input.slice(1) : ''
}
```

现在你可以在 Nuxt 应用和 `server/` 目录中使用这些[自动导入](/docs/4.x/directory-structure/shared) 的工具了。

```vue [app/app.vue]
<script setup lang="ts">
const hello = capitalize('hello')
</script>

<template>
  <div>
    {{ hello }}
  </div>
</template>
```

```ts [server/api/hello.get.ts]
export default defineEventHandler((event) => {
  return {
    hello: capitalize('hello'),
  }
})
```

## 文件如何被扫描

只有位于 `shared/utils/` 和 `shared/types/` 目录下的文件会被自动导入。位于这些目录子目录中的文件不会被自动导入，除非你将这些子目录添加到 `imports.dirs` 和 `nitro.imports.dirs`。

::tip
`shared/utils` 和 `shared/types` 的自动导入和扫描方式与 [`app/composables/`](/docs/4.x/directory-structure/app/composables) 和 [`app/utils/`](/docs/4.x/directory-structure/app/utils) 目录的行为相同。
::

:read-more{to="/docs/4.x/directory-structure/app/composables#how-files-are-scanned"}

```bash [Directory Structure]
-| shared/
---| capitalize.ts        # Not auto-imported
---| formatters
-----| lower.ts           # Not auto-imported
---| utils/
-----| lower.ts           # Auto-imported
-----| formatters
-------| upper.ts         # Not auto-imported
---| types/
-----| bar.ts             # Auto-imported
```

你在 `shared/` 文件夹中创建的其他任何文件，都必须使用 `#shared` 别名手动导入（该别名由 Nuxt 自动配置）：

```ts
// For files directly in the shared directory
import capitalize from '#shared/capitalize'

// For files in nested directories
import lower from '#shared/formatters/lower'

// For files nested in a folder within utils
import upper from '#shared/utils/formatters/upper'
```

This alias ensures consistent imports across your application, regardless of the importing file's location.

:read-more{to="/docs/4.x/guide/concepts/auto-imports"}
