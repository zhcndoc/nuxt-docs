---
title: "<NuxtClientFallback>"
description: "Nuxt 提供 `<NuxtClientFallback>` 组件，当其任意子组件在 SSR 中触发错误时，在客户端渲染其内容"
links:
  - label: 源码 (client)
    icon: i-simple-icons-github
    to: https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/components/client-fallback.client.ts
    size: xs
  - label: 源码 (server)
    icon: i-simple-icons-github
    to: https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/components/client-fallback.server.ts
    size: xs
---

Nuxt 提供 `<NuxtClientFallback>` 组件，当其任意子组件在 SSR 中触发错误时，在客户端渲染其内容。

::note{to="/docs/4.x/guide/going-further/experimental-features#clientfallback"}
该组件为实验性功能，使用前必须在你的 `nuxt.config` 中启用 `experimental.clientFallback` 选项。
::

```vue [app/pages/example.vue]
<template>
  <div>
    <Sidebar />
    <!-- 该组件将在客户端渲染 -->
    <NuxtClientFallback fallback-tag="span">
      <Comments />
      <BrokeInSSR />
    </NuxtClientFallback>
  </div>
</template>
```

## Events

- `@ssr-error`: 当子组件在 SSR 中触发错误时发出的事件。注意，该事件仅会在服务器端触发。

  ```vue
  <template>
    <NuxtClientFallback @ssr-error="logSomeError">
      <!-- ... -->
    </NuxtClientFallback>
  </template>
  ```

## Props

- `placeholderTag` | `fallbackTag`: 指定当插槽在服务端渲染失败时要渲染的回退标签。
  - **类型**: `string`
  - **默认**: `div`
- `placeholder` | `fallback`: 指定当插槽渲染失败时要渲染的回退内容。
  - **类型**: `string`
- `keepFallback`: 如果在服务端渲染失败，保留回退内容。
  - **类型**: `boolean`
  - **默认**: `false`

::warning{icon="i-ph-warning-duotone"}
The `placeholder` and `fallback` props render content as raw HTML. Do not pass untrusted user input to these props as it may lead to XSS vulnerabilities. Use the `#fallback` or `#placeholder` slots instead for dynamic content that needs proper escaping.
::

```vue
<template>
  <!-- 如果默认插槽在服务端渲染失败，则在服务端渲染 <span>Hello world</span> -->
  <NuxtClientFallback
    fallback-tag="span"
    fallback="Hello world"
  >
    <BrokeInSSR />
  </NuxtClientFallback>
</template>
```

## Slots

- `#fallback`: 指定当插槽在服务端渲染失败时要在服务端显示的内容。

```vue
<template>
  <NuxtClientFallback>
    <!-- ... -->
    <template #fallback>
      <!-- 如果默认插槽在 SSR 中渲染失败，则此内容将在服务器端渲染 -->
      <p>Hello world</p>
    </template>
  </NuxtClientFallback>
</template>
```
